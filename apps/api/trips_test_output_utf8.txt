
> api@1.0.0 test
> jest --config jest.config.js tests/integration/trips.test.ts

Environment variables loaded from .env
Prisma schema loaded from prisma\schema.prisma
Datasource "db": PostgreSQL database "param_adventures", schema "public" at "dpg-d5aco1ali9vc73b3u85g-a.oregon-postgres.render.com"

48 migrations found in prisma/migrations


No pending migrations to apply.
  console.log
    Sentry Disabled (No DSN)

      at Object.<anonymous> (src/instrument.ts:6:13)

  console.log
    Param Adventures API: Sentry Instrumented ≡ƒö¡

      at Object.<anonymous> (src/instrument.ts:21:9)

  console.error
    Γ¥î Invalid environment variables:

    [0m [90m 40 |[39m
     [90m 41 |[39m [36mif[39m ([33m![39mparsed[33m.[39msuccess) {
    [31m[1m>[22m[39m[90m 42 |[39m   console[33m.[39merror([32m"Γ¥î Invalid environment variables:"[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 43 |[39m   [36mconst[39m fieldErrors [33m=[39m parsed[33m.[39merror[33m.[39mflatten()[33m.[39mfieldErrors[33m;[39m
     [90m 44 |[39m   [33mObject[39m[33m.[39mentries(fieldErrors)[33m.[39mforEach(([field[33m,[39m errors]) [33m=>[39m {
     [90m 45 |[39m     console[33m.[39merror([32m`  - ${field}: ${errors?.join(", ")}`[39m)[33m;[39m[0m

      at Object.<anonymous> (src/config/env.ts:42:11)
      at Object.<anonymous> (src/config/passport.ts:5:1)
      at Object.<anonymous> (src/app.ts:14:1)
      at Object.<anonymous> (tests/integration/trips.test.ts:2:1)

  console.error
      - RAZORPAY_KEY_ID: Invalid input: expected string, received undefined

    [0m [90m 43 |[39m   [36mconst[39m fieldErrors [33m=[39m parsed[33m.[39merror[33m.[39mflatten()[33m.[39mfieldErrors[33m;[39m
     [90m 44 |[39m   [33mObject[39m[33m.[39mentries(fieldErrors)[33m.[39mforEach(([field[33m,[39m errors]) [33m=>[39m {
    [31m[1m>[22m[39m[90m 45 |[39m     console[33m.[39merror([32m`  - ${field}: ${errors?.join(", ")}`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 46 |[39m   })[33m;[39m
     [90m 47 |[39m
     [90m 48 |[39m   [36mif[39m (process[33m.[39menv[33m.[39m[33mNODE_ENV[39m [33m===[39m [32m"production"[39m) {[0m

      at src/config/env.ts:45:13
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (src/config/env.ts:44:31)
      at Object.<anonymous> (src/config/passport.ts:5:1)
      at Object.<anonymous> (src/app.ts:14:1)
      at Object.<anonymous> (tests/integration/trips.test.ts:2:1)

  console.error
      - RAZORPAY_KEY_SECRET: Invalid input: expected string, received undefined

    [0m [90m 43 |[39m   [36mconst[39m fieldErrors [33m=[39m parsed[33m.[39merror[33m.[39mflatten()[33m.[39mfieldErrors[33m;[39m
     [90m 44 |[39m   [33mObject[39m[33m.[39mentries(fieldErrors)[33m.[39mforEach(([field[33m,[39m errors]) [33m=>[39m {
    [31m[1m>[22m[39m[90m 45 |[39m     console[33m.[39merror([32m`  - ${field}: ${errors?.join(", ")}`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 46 |[39m   })[33m;[39m
     [90m 47 |[39m
     [90m 48 |[39m   [36mif[39m (process[33m.[39menv[33m.[39m[33mNODE_ENV[39m [33m===[39m [32m"production"[39m) {[0m

      at src/config/env.ts:45:13
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (src/config/env.ts:44:31)
      at Object.<anonymous> (src/config/passport.ts:5:1)
      at Object.<anonymous> (src/app.ts:14:1)
      at Object.<anonymous> (tests/integration/trips.test.ts:2:1)

2026-01-19 23:42:43 [33mwarn[39m: Google OAuth credentials missing. Social login disabled.
  console.log
    Connecting to Redis: redis://localhost:6379

      at createRedisClient (src/lib/redis.ts:6:13)

  console.log
    --> using LOCAL STORAGE for uploads <--

      at Object.<anonymous> (src/config/cloudinary.ts:20:11)

  console.log
    --> Backend Initialized (v1.2.0) - Restore Route Active <--

      at Object.<anonymous> (src/app.ts:50:9)

  console.log
    Γ£à Redis connected

      at EventEmitter.<anonymous> (src/lib/redis.ts:29:13)

2026-01-19 23:42:45 [32minfo[39m: Redis cache service connected
node.exe : FAIL tests/
integration/trips.test
.ts (16.18 s)
At C:\Program Files\no
dejs\npm.ps1:29 char:3
+   & $NODE_EXE 
$NPM_CLI_JS $args
+   ~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~
    + CategoryInfo    
          : NotSpeci  
  fied: (FAIL tests   
 /inte...st.ts (16    
.18 s):String) []    
, RemoteException
    + FullyQualifiedE 
   rrorId : NativeCo  
  mmandError
 
  Trip Endpoints
    POST /trips - 
Create trip
      ├ù creates a 
trip with valid auth 
and permissions (1 ms)
      ├ù returns 401 
when not authenticated
    GET /trips/public 
- Get public trips
      ├ù returns 
published trips 
without authentication
      ├ù returns 
metadata for filtering
    GET 
/trips/public/:slug - 
Get trip by slug
      ├ù returns 404 
for non-existent trip
    PUT /trips/:id - 
Update trip
      ├ù updates a 
trip with valid auth
      ├ù returns 401 
without authentication
      ├ù returns 404 
for non-existent trip
    DELETE /trips/:id 
- Delete trip
      ├ù deletes a 
trip with admin auth
      ├ù returns 401 
without authentication
      ├ù returns 404 
for non-existent trip
    GET 
/trips/internal - 
Internal trip list
      ├ù returns all 
trips for admins
      ├ù returns 401 
without authentication
    GET /trips/:id - 
Get trip by ID
      ├ù returns trip 
details with 
authentication
      ├ù returns 401 
without authentication
      ├ù returns 404 
for non-existent trip

  ΓùÅ Trip Endpoints 
ΓÇ║ POST /trips - 
Create trip ΓÇ║ 
creates a trip with 
valid auth and 
permissions

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ POST /trips - 
Create trip ΓÇ║ 
returns 401 when not 
authenticated

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ GET /trips/public 
- Get public trips 
ΓÇ║ returns published 
trips without 
authentication

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ GET /trips/public 
- Get public trips 
ΓÇ║ returns metadata 
for filtering

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ GET 
/trips/public/:slug - 
Get trip by slug ΓÇ║ 
returns 404 for 
non-existent trip

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ PUT /trips/:id - 
Update trip ΓÇ║ 
updates a trip with 
valid auth

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ PUT /trips/:id - 
Update trip ΓÇ║ 
returns 401 without 
authentication

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ PUT /trips/:id - 
Update trip ΓÇ║ 
returns 404 for 
non-existent trip

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ DELETE /trips/:id 
- Delete trip ΓÇ║ 
deletes a trip with 
admin auth

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ DELETE /trips/:id 
- Delete trip ΓÇ║ 
returns 401 without 
authentication

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ DELETE /trips/:id 
- Delete trip ΓÇ║ 
returns 404 for 
non-existent trip

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ GET 
/trips/internal - 
Internal trip list 
ΓÇ║ returns all trips 
for admins

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ GET 
/trips/internal - 
Internal trip list 
ΓÇ║ returns 401 
without authentication

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ GET /trips/:id - 
Get trip by ID ΓÇ║ 
returns trip details 
with authentication

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ GET /trips/:id - 
Get trip by ID ΓÇ║ 
returns 401 without 
authentication

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

  ΓùÅ Trip Endpoints 
ΓÇ║ GET /trips/:id - 
Get trip by ID ΓÇ║ 
returns 404 for 
non-existent trip

    PrismaClientKnownR
equestError: 
    Invalid `prisma.us
er.create()` 
invocation in
    C:\Users\akash\Doc
uments\Param_Adventure
s_Phase1\apps\api\test
s\integration\trips.te
st.ts:76:37

      73 }
      74 
      75 // Create 
admin user
    ΓåÆ 76 const 
admin = await 
prisma.user.create(
    The column 
`User.deletedAt` does 
not exist in the 
current database.

    [0m [90m 74 
|[39m
     [90m 75 |[39m  
   [90m// Create 
admin user[39m
    [31m[1m>[22m[3
9m[90m 76 |[39m     
[36mconst[39m admin 
[33m=[39m 
[36mawait[39m prisma
[33m.[39muser[33m.
[39mcreate({
     [90m    |[39m  
                 
[31m[1m^[22m[39m
     [90m 77 |[39m  
     data[33m:[39m {
     [90m 78 |[39m  
       
email[33m:[39m [32m
"admin_trips@test.com"
[39m[33m,[39m
     [90m 79 |[39m  
       
password[33m:[39m [
32m"hashed"[39m[33m,
[39m[0m

      at 
Rn.handleRequestError 
(../../node_modules/@p
risma/client/runtime/l
ibrary.js:174:7325)
      at Rn.handleAndL
ogRequestError (../../
node_modules/@prisma/c
lient/runtime/library.
js:174:6754)
      at Rn.request (.
./../node_modules/@pri
sma/client/runtime/lib
rary.js:174:6344)
      at 
Object.<anonymous> (te
sts/integration/trips.
test.ts:76:19)

Test Suites: 1 
failed, 1 total
Tests:       16 
failed, 16 total
Snapshots:   0 total
Time:        16.656 
s, estimated 21 s
Ran all test suites 
matching /tests\\integ
ration\\trips.test.ts/
i.

Running global teardown...
Global teardown complete: Database cleaned.
Force exiting Jest: 
Have you considered 
using 
`--detectOpenHandles` 
to detect async 
operations that kept 
running after all 
tests finished?
npm error Lifecycle 
script `test` failed 
with error:
npm error code 1
npm error path C:\User
s\akash\Documents\Para
m_Adventures_Phase1\ap
ps\api
npm error workspace 
api@1.0.0
npm error location C:\
Users\akash\Documents\
Param_Adventures_Phase
1\apps\api
npm error command 
failed
npm error command C:\W
INDOWS\system32\cmd.ex
e /d /s /c jest 
--config 
jest.config.js tests/i
ntegration/trips.test.
ts
